document.addEventListener("DOMContentLoaded",(function(){function e(){m.forEach(clearTimeout),m=[]}function t(e,t){const n=setTimeout(e,t);m.push(n)}function n(e,n,o,i){function s(){c<a.length&&(a[c].style.opacity="1",c++,t(s,i))}let c=0;e.innerHTML="",[...n].forEach((t=>{const n=document.createElement("span");n.innerHTML=" "===t?"&nbsp;":t,n.style.opacity="0",n.style.display="inline-block",e.appendChild(n)}));const a=e.querySelectorAll("span");t(s,o)}function o(){e(),y=!1,l.style.opacity="0",r.style.opacity="0",c.style.opacity="0",a.classList.remove("animate-line"),s.forEach((e=>{e.classList.remove("animation-complete")}));let o=500;s.forEach((e=>{const t=e.innerText;n(e,t,o,80),o+=80*t.length+600})),t((()=>r.style.opacity="1"),o+400),t((()=>{c.style.opacity="1",setTimeout((()=>{a.offsetWidth,a.classList.add("animate-line"),setTimeout((()=>{s.forEach((e=>{e.classList.add("animation-complete")}))}),500)}),500),y=!0}),o+800),t((()=>l.style.opacity="1"),300)}function i(){e(),l.style.opacity="1",r.style.opacity="1",c.style.opacity="1",a.classList.remove("animate-line"),a.offsetWidth,a.classList.add("animate-line"),s.forEach((e=>{const t=e.innerText;e.innerHTML=t.split("").map((e=>`<span style="opacity: 1;">${" "===e?"&nbsp;":e}</span>`)).join(""),e.classList.add("animation-complete")})),y=!0}const s=Array.from(document.querySelectorAll(".quote-line")),c=document.getElementById("quote-signature"),a=document.querySelector(".signature-text"),l=document.getElementById("left-quote"),r=document.getElementById("right-quote"),d=document.getElementById("quote-toggle-btn");let y=!1,m=[];d?.addEventListener("click",(()=>{y?o():i()}));const u=new IntersectionObserver((e=>{e.forEach((e=>{e.isIntersecting&&(u.disconnect(),o())}))}),{threshold:.3}),p=document.getElementById("quote");p&&u.observe(p)}));