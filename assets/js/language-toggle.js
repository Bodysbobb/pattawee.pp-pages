document.addEventListener("DOMContentLoaded",(function(){const e=document.querySelectorAll("#navbar-language-toggle");if(e.length>0){const l=document.createElement("style");l.textContent="\n      .language-transition-overlay {\n        position: fixed;\n        top: 0;\n        left: 0;\n        width: 100%;\n        height: 100%;\n        background-color: var(--global-bg-color, #fff);\n        opacity: 0;\n        pointer-events: none;\n        z-index: 9999;\n        transition: opacity 0.5s ease;\n      }\n      \n      .language-transition-overlay.fade-in {\n        opacity: 1;\n        pointer-events: all;\n      }\n      \n      /* Triangle loader container */\n      .triangle-loader-container {\n        position: absolute;\n        top: 50%;\n        left: 50%;\n        transform: translate(-50%, -50%);\n        width: 60px;\n        height: 60px;\n      }\n      \n      /* Overlay styling - simple transition */\n      .language-transition-overlay {\n        position: fixed;\n        top: 0;\n        left: 0;\n        width: 100%;\n        height: 100%;\n        background-color: var(--global-bg-color, #fff);\n        opacity: 0;\n        pointer-events: none;\n        z-index: 9999;\n        transition: opacity 0.5s ease;\n      }\n      \n      /* Enhanced toggle animation */\n      .language-btn-navbar .toggle-indicator {\n        transition: transform 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275) !important;\n      }\n      \n      /* Animate toggle before page transition */\n      .language-btn-navbar.en.animating-to-alt .toggle-indicator {\n        transform: translateX(43px) !important;\n      }\n      \n      .language-btn-navbar.alt-lang.animating-to-en .toggle-indicator {\n        transform: translateX(3px) !important;\n      }\n      ",document.head.appendChild(l);const i=document.createElement("div");function t(){let e=!1;const t=document.getElementById("special-navbar"),n=document.getElementById("default-navbar");t&&n&&("none"!==getComputedStyle(t).display||"none"===getComputedStyle(n).display)&&(e=!0);const o=window.pageYOffset||document.documentElement.scrollTop,a=document.documentElement.scrollHeight-document.documentElement.clientHeight,l=a>0?o/a:0,i={theme:localStorage.getItem("theme")||"system",navbarType:e?"true":"false",sourceLang:document.documentElement.lang||"en",scrollTop:o,scrollPercentage:l};localStorage.setItem("languageTransitionState",JSON.stringify(i))}function n(){if("true"===new URLSearchParams(window.location.search).get("_lang_transition")){const e=window.location.href.replace(/[?&]_lang_transition=true/,"").replace(/\?$/,"");window.history.replaceState({},document.title,e),o()}}function o(){try{const e=localStorage.getItem("languageTransitionState");if(!e)return;const t=JSON.parse(e);if(t.theme){if(localStorage.setItem("theme",t.theme),document.documentElement.setAttribute("data-theme-setting",t.theme),"system"===t.theme){const e=window.matchMedia("(prefers-color-scheme: dark)").matches;document.documentElement.setAttribute("data-theme",e?"dark":"light")}else document.documentElement.setAttribute("data-theme",t.theme);const e=document.querySelector("#light-toggle-system"),n=document.querySelector("#light-toggle-dark"),o=document.querySelector("#light-toggle-light");e&&n&&o&&(e.style.display="system"===t.theme?"block":"none",n.style.display="dark"===t.theme?"block":"none",o.style.display="light"===t.theme?"block":"none")}if(void 0!==t.navbarType){localStorage.setItem("special_navbar_preference",t.navbarType);const e=document.getElementById("default-navbar"),n=document.getElementById("special-navbar");e&&n&&(document.body.setAttribute("data-special-navbar","true"===t.navbarType?"true":"false"),"true"===t.navbarType?(e.style.display="none",n.style.display="block"):(e.style.display="block",n.style.display="none"))}requestAnimationFrame((function(){a(t)})),localStorage.removeItem("languageTransitionState")}catch(e){}}function a(e){e&&setTimeout((function(){if(e.scrollTop)document.documentElement.scrollTop=e.scrollTop,document.body.scrollTop=e.scrollTop,window.scrollTo(0,e.scrollTop);else if(e.scrollPercentage){const t=(document.documentElement.scrollHeight-document.documentElement.clientHeight)*e.scrollPercentage;document.documentElement.scrollTop=t,document.body.scrollTop=t,window.scrollTo(0,t)}setTimeout((function(){if(e.scrollTop)window.scrollTo(0,e.scrollTop);else if(e.scrollPercentage){const t=document.documentElement.scrollHeight-document.documentElement.clientHeight;window.scrollTo(0,t*e.scrollPercentage)}}),500)}),100)}i.className="language-transition-overlay",document.body.appendChild(i),e.forEach((function(e){let n="";const o=e.getAttribute("onclick");if(o){const e=o.match(/window\.location\.href=\'([^\']+)\'/);e&&e[1]&&(n=e[1])}n&&(e.onclick=function(o){if(o.preventDefault(),e.classList.contains("animating-to-en")||e.classList.contains("animating-to-alt"))return!1;t();const a=n.includes("?")?"&":"?",l=n+a+"_lang_transition=true";return e.classList.contains("en")?e.classList.add("animating-to-alt"):e.classList.add("animating-to-en"),setTimeout((function(){i.classList.add("fade-in"),setTimeout((function(){window.location.href=l}),400)}),300),!1})})),n()}}));