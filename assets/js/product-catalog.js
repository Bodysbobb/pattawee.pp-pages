document.addEventListener("DOMContentLoaded",(function(){function e(){const e=document.querySelectorAll(".product-image");let t;if(r.dataset.imageAspectRatio)t=r.dataset.imageAspectRatio;else{const e=getComputedStyle(r);t=e.getPropertyValue("--image-aspect-ratio").trim()}t&&(r.style.setProperty("--image-aspect-ratio",t),e.forEach((e=>{e.style.aspectRatio=t})))}function t(){function e(){let e=n||c||4;e=window.innerWidth<=576?o||1:window.innerWidth<=768?o||2:window.innerWidth<=992||window.innerWidth<=1200?Math.min(n||4,3):n||c||4,r.style.setProperty("--images-per-row",e),e&&(t.style.gridTemplateColumns=`repeat(${e}, 1fr)`)}const t=document.querySelector(".product-grid");if(!t)return;let n,o,c;if(r.dataset.imagesPerRowMax&&(n=r.dataset.imagesPerRowMax,r.style.setProperty("--images-per-row-max",n)),r.dataset.imagesPerRowMin&&(o=r.dataset.imagesPerRowMin,r.style.setProperty("--images-per-row-min",o)),r.dataset.imagesPerRow)c=r.dataset.imagesPerRow,r.style.setProperty("--images-per-row",c);else{const e=getComputedStyle(r);c=e.getPropertyValue("--images-per-row").trim(),c&&r.style.setProperty("--images-per-row",c)}e(),window.addEventListener("resize",e)}function n(){const e=document.querySelector(".top-filter-tags");e&&"false"===r.dataset.showTopFilters&&(e.style.display="none");const t=document.querySelector(".filter-sort");t&&"false"===r.dataset.showDropdownFilters&&(t.style.display="none")}function o(){p&&(p.innerHTML="",0!==h.length?h.forEach((e=>{const t=document.createElement("span");t.className="filter-badge",t.dataset.filter=e,t.innerHTML=`${e} <span class="remove-filter">&times;</span>`,t.querySelector(".remove-filter").addEventListener("click",(function(t){t.stopPropagation(),a(e)})),p.appendChild(t)})):p.innerHTML=`<span class="no-filters">${x}</span>`)}function c(){if(0===h.length)return m.forEach((e=>{e.style.display="block"})),void document.querySelectorAll(".filter-tag").forEach((e=>{"all"===e.getAttribute("data-filter")?e.classList.add("active"):e.classList.remove("active")}));document.querySelectorAll(".filter-tag").forEach((e=>{const t=e.getAttribute("data-filter");h.includes(t)?e.classList.add("active"):(e.classList.remove("active"),"all"===t&&e.classList.remove("active"))})),m.forEach((e=>{const t=e.getAttribute("data-tags");let n=!1;h.forEach((e=>{t&&t.includes(e)&&(n=!0)})),e.style.display=n?"block":"none"}))}function i(e){if("all"===e)return h=[],o(),void c();h.includes(e)||(h.push(e),o(),c())}function a(e){h=h.filter((t=>t!==e)),o(),c()}function l(e,t,n){function o(e){"Escape"===e.key?g():"ArrowLeft"!==e.key&&"ArrowRight"!==e.key||(e.preventDefault(),"ArrowLeft"===e.key?s("prev"):"ArrowRight"===e.key&&s("next"))}const c=document.createElement("div");c.className="lightbox";const i=document.createElement("div");i.className="lightbox-content";const a=document.createElement("img");a.src=e,a.alt=T[n].querySelector("img").alt;const l=document.createElement("div");l.className="lightbox-image-wrapper",d||(a.addEventListener("contextmenu",(function(e){return e.preventDefault(),!1})),a.setAttribute("draggable","false"),a.style.webkitTouchCallout="none",a.style.webkitUserSelect="none",a.style.khtmlUserSelect="none",a.style.mozUserSelect="none",a.style.msUserSelect="none",a.style.userSelect="none",a.touchStartTime=0,a.addEventListener("touchstart",(function(){this.touchStartTime=Date.now()})),a.addEventListener("touchend",(function(e){Date.now()-this.touchStartTime>500&&e.preventDefault()})),c.addEventListener("contextmenu",(function(e){if(e.target===a||e.target.closest("img"))return e.preventDefault(),!1})));const u=document.createElement("div");if(u.className="lightbox-caption",u.textContent=t,T.length>1){const e=document.createElement("div");e.className="lightbox-nav lightbox-prev",e.innerHTML="&#10094;",e.style.opacity="0.7";const t=document.createElement("div");t.className="lightbox-nav lightbox-next",t.innerHTML="&#10095;",t.style.opacity="0.7",e.addEventListener("click",(function(e){e.stopPropagation(),s("prev")})),t.addEventListener("click",(function(e){e.stopPropagation(),s("next")})),c.appendChild(e),c.appendChild(t)}if(C){const t=document.createElement("div");t.className="lightbox-share";const o=document.createElement("div");o.className="share-message",o.textContent=b;const c=document.createElement("button");c.className="copy-link-button",c.textContent=v;let i="\u0e2a\u0e48\u0e07\u0e25\u0e34\u0e07\u0e01\u0e4c\u0e1c\u0e48\u0e32\u0e19 LINE \u0e44\u0e14\u0e49\u0e40\u0e25\u0e22!";r.dataset.middleLabelText&&(i=r.dataset.middleLabelText);const a=document.createElement("div");a.className="middle-label",a.textContent=i,a.style.display="none";let s=null;k&&(s=document.createElement("a"),s.className="line-button",s.href=k,s.target="_blank",s.innerHTML='<svg class="line-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path d="M272.1 204.2v71.1c0 1.8-1.4 3.2-3.2 3.2h-11.4c-1.1 0-2.1-.6-2.6-1.3l-32.6-44v42.2c0 1.8-1.4 3.2-3.2 3.2h-11.4c-1.8 0-3.2-1.4-3.2-3.2v-71.1c0-1.8 1.4-3.2 3.2-3.2H219c1 0 2.1.5 2.6 1.4l32.6 44v-42.2c0-1.8 1.4-3.2 3.2-3.2h11.4c1.8-.1 3.3 1.4 3.3 3.1zm-82-3.2h-11.4c-1.8 0-3.2 1.4-3.2 3.2v71.1c0 1.8 1.4 3.2 3.2 3.2h11.4c1.8 0 3.2-1.4 3.2-3.2v-71.1c0-1.7-1.4-3.2-3.2-3.2zm-27.5 59.6h-31.1v-56.4c0-1.8-1.4-3.2-3.2-3.2h-11.4c-1.8 0-3.2 1.4-3.2 3.2v71.1c0 .9.3 1.6.9 2.2.6.5 1.3.9 2.2.9h45.7c1.8 0 3.2-1.4 3.2-3.2v-11.4c0-1.7-1.4-3.2-3.1-3.2zM332.1 201h-45.7c-1.7 0-3.2 1.4-3.2 3.2v71.1c0 1.7 1.4 3.2 3.2 3.2h45.7c1.8 0 3.2-1.4 3.2-3.2v-11.4c0-1.8-1.4-3.2-3.2-3.2H301v-12h31.1c1.8 0 3.2-1.4 3.2-3.2V234c0-1.8-1.4-3.2-3.2-3.2H301v-12h31.1c1.8 0 3.2-1.4 3.2-3.2v-11.4c-.1-1.7-1.5-3.2-3.2-3.2zM448 113.7V399c-.1 44.8-36.8 81.1-81.7 81H81c-44.8-.1-81.1-36.9-81-81.7V113c.1-44.8 36.9-81.1 81.7-81H367c44.8.1 81.1 36.8 81 81.7zm-61.6 122.6c0-73-73.2-132.4-163.1-132.4-89.9 0-163.1 59.4-163.1 132.4 0 65.4 58 120.2 136.4 130.6 19.1 4.1 16.9 11.1 12.6 36.8-.7 4.1-3.3 16.1 14.1 8.8 17.4-7.3 93.9-55.3 128.2-94.7 23.6-26 34.9-52.3 34.9-81.5z"/></svg>LINE'),c.addEventListener("click",(function(){const t=T[n].dataset.productSlug||"";let o=e;t&&(o=window.location.origin+window.location.pathname+"?"+t),navigator.clipboard.writeText(o).then((function(){c.textContent=L,s&&(s.style.display="inline-flex"),a.style.display="inline-block",setTimeout((function(){c.textContent=v}),2e3)})).catch((function(){const e=document.createElement("textarea");e.value=o,e.style.position="fixed",document.body.appendChild(e),e.focus(),e.select();try{document.execCommand("copy"),c.textContent=L,s&&(s.style.display="inline-flex"),a.style.display="inline-block",setTimeout((function(){c.textContent=v}),2e3)}catch(e){c.textContent="Failed to copy"}document.body.removeChild(e)}))})),t.appendChild(o),t.appendChild(c),t.appendChild(a),s&&t.appendChild(s),l.appendChild(t)}const m=document.createElement("span");m.className="lightbox-close",m.innerHTML="&times;",m.setAttribute("aria-label","Close");const p=r.dataset.imageAspectRatio;m.style.top="1/1"===p?"30px":"10px",i.appendChild(m),l.appendChild(a),i.appendChild(l),t&&i.appendChild(u),c.appendChild(i),document.body.appendChild(c),document.body.style.overflow="hidden",M=o,document.removeEventListener("keydown",M),document.addEventListener("keydown",M);const g=function(){document.removeEventListener("keydown",M),M=null,document.body.removeChild(c),document.body.style.overflow=""};m.addEventListener("click",(function(e){e.stopPropagation(),g()})),c.addEventListener("click",(function(e){e.target===c&&g()}))}function s(e){let t=q;if("next"===e?t=(q+1)%T.length:"prev"===e&&(t=(q-1+T.length)%T.length),t!==q){const e=T[t],n=e.getAttribute("href"),o=e.getAttribute("data-title")||"";M&&document.removeEventListener("keydown",M);const c=document.querySelector(".lightbox");c&&document.body.removeChild(c),q=t,l(n,o,t)}}const r=document.querySelector(".product-catalog");if(!r)return;const d="true"===r.dataset.allowImageSave;if(!d){document.querySelectorAll(".product-image img").forEach((e=>{e.addEventListener("contextmenu",(function(e){return e.preventDefault(),!1})),e.setAttribute("draggable","false"),e.style.webkitTouchCallout="none",e.style.webkitUserSelect="none",e.style.khtmlUserSelect="none",e.style.mozUserSelect="none",e.style.msUserSelect="none",e.style.userSelect="none";let t=0;e.addEventListener("touchstart",(function(){t=Date.now()})),e.addEventListener("touchend",(function(e){Date.now()-t>500&&e.preventDefault()}))})),document.addEventListener("contextmenu",(function(e){if(e.target.closest(".lightbox img")||e.target.closest(".lightbox-content img"))return e.preventDefault(),!1})),document.addEventListener("touchstart",(function(e){(e.target.closest(".lightbox img")||e.target.closest(".lightbox-content img"))&&(e.target.touchStartTime=Date.now())})),document.addEventListener("touchend",(function(e){const t=e.target.closest(".lightbox img")||e.target.closest(".lightbox-content img");if(t&&t.touchStartTime){Date.now()-t.touchStartTime>500&&e.preventDefault()}}))}e(),t(),n();document.querySelectorAll(".category-header").forEach((e=>{e.addEventListener("click",(function(){const e=this.nextElementSibling,t=this.querySelector(".arrow-icon");e.classList.toggle("hidden"),e.classList.contains("hidden")?t.innerHTML="&#9662;":t.innerHTML="&#9652;"}))}));const u=document.querySelectorAll(".filter-tag, .dropdown-filter-tag"),m=document.querySelectorAll(".product-item"),p=document.querySelector(".selected-filters-list"),g=document.querySelector(".clear-all-filters");let h=[];const f=document.querySelector(".filter-sort-button"),y=document.querySelector(".filter-dropdown");f&&y&&(f.addEventListener("click",(function(){y.classList.toggle("active"),this.classList.toggle("active")})),document.addEventListener("click",(function(e){!e.target.closest(".filter-sort")&&y.classList.contains("active")&&(y.classList.remove("active"),f.classList.remove("active"))})));let v="Copy URL",L="URL Copied!",b="Copy image URL:",w="Selected Filters",E="Clear All",x="No filters selected";r&&(v=r.dataset.copyButtonLabel||v,L=r.dataset.copyButtonLabelFinalstate||L,b=r.dataset.copyMessageLabel||b,w=r.dataset.selectedFiltersLabel||w,E=r.dataset.clearAllLabel||E,x=r.dataset.noFiltersLabel||x);const S=document.querySelector(".selected-filters h4");S&&(S.textContent=w),g&&(g.textContent=E,g.addEventListener("click",(function(){h=[],o(),c()}))),u.forEach((e=>{e.addEventListener("click",(function(e){e.preventDefault();const t=this.getAttribute("data-filter");this.classList.contains("filter-tag")?"all"===t?h=[]:h.includes(t)?a(t):i(t):i(t),o(),c()}))})),o();const C=!(r&&"false"===r.dataset.showCopyUrl),k=r&&r.dataset.lineAccount,A=document.querySelectorAll(".product-link");let T=Array.from(A),q=0;A.forEach(((e,t)=>{e.addEventListener("click",(function(e){e.preventDefault();const n=this.getAttribute("href"),o=this.getAttribute("data-title")||"";q=t,l(n,o,t)}))})),function(){const e=window.location.search;if(e.startsWith("?")){const t=e.substring(1),n=document.querySelector(`a[data-product-slug="${t}"]`);n&&setTimeout((function(){n.click()}),300)}}();let M=null}));